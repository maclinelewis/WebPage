<!DOCTYPE HTML>
<html>
<head>
     <title>OnlineBookings Page</title>
	<script type="text/javascript" src="RGraph.common.core.js"></script>
	<script type="text/javascript" src="RGraph.bar.js"></script>
	<script>
		var date=new date();
		var month=date.getMonth()+1;
		var day=date.getDate();
		var year=date.getFullyear();
		var output=month+'/'+day+'/'+year;
		function compareDate()
		{
		  if(Date.parse(document.form1.bookingdate.value)<Date.parse(output))
		  {
		    alert("You cannot select a date less than the current date");
		  }
		}
		function checkNum()
		{
		  x=event.charCode;
		  if((x>=65 && x<=90) || (x>=97 && x<=122))
		  {
		    alert("Enter Numeric Value");
		    document.form1.num.value='';
		  }
		}
		function total()
		{
		  if(document.form1.num.value>20)
		  {
		    alert("You cannot book more than 20 tickets at a time");
		  }
		  else
		      document.form1.totalprice.value=(document.form1.price.value)*(document.form1.num.value);
		}
		function check()
		{
		  for(i=0;i<=document.form1.RB.length;i++)
		  {
		    if(document.form1.RB[0].checked==true)
		    {
		      document.form1.price.value=100;
		    }
		    else if(document.form1.RB[1].checked==true)
		    {
		      document.form1.price.value=140;
		    } 
		    else if(document.form1.RB[2].checked==true)
		    {
		      document.form1.price.value=200;
		    } 
		  }
		}
		function sub()
		{
		  if((document.form1.username.value!='') && (document.form1.num.value!='') 
			&&(document.form1.sel.value!=0)&&(document.form1.timing.value!=7))
		  {
		    alert("Your tickets have been booked.");
		  }
		}
		function validate()
		{
		  if((document.form1.sel.value==0)||(document.form1.timing.value==7)
			||(Date.parse(document.form1.bookingdate.value)<Date.parse(output)))
		  {
		    alert("Please select the date, movie name, and movie timings.");
		    return false
		  }
		  else
		    return true
		}
	</script>

	<style type="text/css">
	   #submit {
		    margin-left:100px;
		   }
	   th {
		font-size:20px;
		background-color:green;
	      }
	   td {
		text-align:left;
		font-size:20px;
	      }
	   table {
		  border:1px solid green;
		 }
	   form {
		 float:left;
		 margin-right:20px;
		}
	   p {
	      font-size:20px;
	     }
	   h2 {
	       background-color:green;
	       border:1px solid green;
	       margin-left:460px;
	      }
	  .auto-style {
		       /*Chrome*/
		       overflow-x:-webkit-marquee;
		       -webkit-marquee-direction:up;
		       -webkit-marquee-style:scroll;
		       -webkit-marquee-speed:normal;
		       -webkit-marquee-increment:small;
		       -webkit-marquee-repetition:infinite;
		      }
	</style>
</head>
<body>
    
     <form name="form1" onsubmit="return validate();">
	<table>
	<tr>
	<th colspan="2">Book Your Tickets Online</th>
	</tr>
     <td>Name</td>
     <td><input type="text" name="username" placeholder="Enter Your Name" required></td>
     <tr>
	<td>Date of Bookings</td>
	<td><input type="date" id="bookingdate" onchange="campareDate();" required></td>
     </tr>
     <tr>
	<td>Movie</td>
	<td>
	  <select id="sel">
	    <option value="0">Select Movie</option>
	    <optgroup label="Drama">
	       <option value="1">Nightmare</option>
	       <option value="2">Along Polly Came</option>
	    </optgroup>
	    <optgroup label="Thriller">
	       <option value="3">Source Code</option>
	       <option value="4">If Only</option>
	    </optgroup>
	    <optgroup label="Romantic">
	       <option value="5">A walk to remember</option>
	       <option value="6">Angel</option>
	    </optgroup>
	  </select>
        </td>
     </tr>
     <tr>
	<td>Show Timings</td>
	<td>
	   <select id="timing">
	      <option value="7">Select Time</option>
 	      <option value="8">10:30AM</option>
	      <option value="9">5:30PM</option>
	      <option value="9">12:30PM</option>
	   </select>
	</td>
     </tr>
     <tr>
	<td>Select Class</td>
	<td>
	    <input type="Radio" name="RB" onclick="check();" required>Platinum</input>
	    <input type="Radio" name="RB" onclick="check();" required>Gold</input>
	    <input type="Radio" name="RB" onclick="check();" required>Exclusive</input>
	</td>
     </tr>
    <tr>
	<td>Price</td>
	<td><input type="text" name="price" disabled></td>
     </tr>
     <tr>
	<td>Number of Tickets</td>
	<td><input type="text" name="num" placeholder="Enter Tickets" required onchange="total();" onkeypress="checkNum();"></td>
     </tr>
     <tr>
	<td>Total Price</td>
	<td><input type="text" name="totalprice" disabled></td>
     </tr>
     <tr>
	<td><input id="submit" type="submit" onclick="sub();"></td>
	<td><input type="reset"></td>
     </tr>
     </table>
     </form>
     <h2>Alerts & Updates<h2>
     <div class="auto-style">
	<p>New Payment Options has been introduced for ticket bookings.</p>
	<p>Mobile Booking is now resumed w.e.f. 05-April-2012.</p>
	<p>ID proof is required for getting student concession on tickets.</p>
	<p>Ticket Bookings On Mobile: Now book your movie ticket -ANYWHERE ANYTIME through your Mobile Phones.</p>
	<p>You are advised not to carry inflammable/dangerous/expensive articles as part of their luggage and also
	   to desist from smoking in the movie halls. Please update your mobile number in our profile to recieve 
	   SMS alerts for your ticket booking.</p>
	<p>Never purchase e-ticket from unauthorized agents or persons.</p>
	<p>No refund will be granted on cancellation of tickets.</p>
     </div>  
    <br><br><br>
	<h1>Movie Ratings</h1>
	<canvas width="900" height="250" id="test" style=border:1px solid black"></canvas>
	<script type="text/javascript" charset="utf-8">
	    var bar=new RGraph.Bar('test', [4,2.5,2.5,3,4,3.5]);
	    bar.Set('chart.colors',['green']);
	    bar.Set('chart.labels',["Source Code","if Only","Angel","Nightmare","Along Polly Came","A walk to Remember"]);
	    bar.Draw();
	</script> 
</body>
</html>